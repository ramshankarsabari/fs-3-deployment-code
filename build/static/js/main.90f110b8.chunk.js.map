{"version":3,"sources":["index.js"],"names":["ReactDOM","render","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","useEffect","axios","get","baseUrl","then","response","data","onSubmit","e","preventDefault","personObject","name","number","post","console","log","concat","catch","error","value","onChange","target","type","onClick","map","person","document","getElementById"],"mappings":"8MAsFAA,IAASC,OAAO,mBAhFJ,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAERG,EAFQ,KAECC,EAFD,OAGkBJ,mBAAS,IAH3B,mBAGRK,EAHQ,KAGEC,EAHF,KAelBC,qBAAU,WAERC,IACGC,IAAIC,wBACJC,MAAK,SAAAC,GAEJV,EAAWU,EAASC,WAEvB,IA+BD,OACE,6BAEA,uCAAaV,GACX,yCACA,0BAAMW,SA1BI,SAACC,GACfA,EAAEC,iBACF,IAAMC,EAAe,CACnBC,KAAMf,EACNgB,OAAQd,GAEVG,IAAMY,KAAKV,oBAAgBO,GAAcN,MAAK,SAASC,GACrDS,QAAQC,IAAI,4CACbD,QAAQC,IAAIV,EAASC,MACtBX,EAAWD,EAAQsB,OAAOX,EAASC,OACnCT,EAAW,IACXE,EAAY,OAETkB,OAAM,SAAUC,GACjBJ,QAAQC,IAAIG,QAaR,sCACQ,2BAAOC,MAAOvB,EAASwB,SAxDZ,SAACZ,GAEtBX,EAAWW,EAAEa,OAAOF,UAuDhB,6BAFF,UAGS,2BAAOA,MAAOrB,EAAUsB,SArDb,SAACZ,GAEzBT,EAAYS,EAAEa,OAAOF,WAqDjB,6BACE,4BAAQG,KAAK,UAAb,OACA,6BACA,4BAAQA,KAAK,QAAQC,QAzCb,WAChB1B,EAAW,IACXE,EAAY,MAuCJ,gBAGJ,uCACA,4BApBNL,EAAQ8B,KAAI,SAAAC,GAAM,OAAI,4BAAKA,EAAOd,KAAZ,KAAoBc,EAAOb,eA4BjC,MAASc,SAASC,eAAe,U","file":"static/js/main.90f110b8.chunk.js","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios'\r\nimport './index.css';\r\nconst baseUrl = '/api/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newPhone, setNewPhone ] = useState('')\r\n\r\n  const handleNameChange = (e) =>{\r\n      //console.log(e.target.value);\r\n      setNewName(e.target.value);\r\n  }\r\n\r\n  const handlePhoneChange = (e) =>{\r\n    //console.log(e.target.value);\r\n    setNewPhone(e.target.value);\r\n  }\r\n\r\nuseEffect(() => {\r\n  //console.log('effect')\r\n  axios\r\n    .get(baseUrl+'/get/all')\r\n    .then(response => {\r\n      //console.log('promise fulfilled')\r\n      setPersons(response.data)\r\n    })\r\n}, [])\r\n\r\n//console.log('render', persons.length, 'persons')\r\n\r\nconst clearData = () =>{\r\n  setNewName('');\r\n  setNewPhone('');\r\n  //setPersons([]);\r\n}\r\n\r\nconst addName = (e) =>{\r\n  e.preventDefault()\r\n  const personObject = {\r\n    name: newName,\r\n    number: newPhone\r\n  }\r\n  axios.post(baseUrl+'/post',personObject).then(function(response){\r\n    console.log(\"******************data******************\")\r\n   console.log(response.data);\r\n  setPersons(persons.concat(response.data))\r\n  setNewName('');\r\n  setNewPhone('');\r\n  \r\n  }).catch(function (error) {\r\n    console.log(error);\r\n  });\r\n}\r\n\r\nconst rows = () =>\r\npersons.map(person => <li>{person.name}  {person.number}</li>)\r\n\r\n  return (\r\n    <div>\r\n        \r\n    <div>debug: {newName}</div>\r\n      <h2>Phonebook</h2>\r\n      <form onSubmit = {addName}>\r\n        <div>\r\n          Name: <input value={newName} onChange = {handleNameChange} />\r\n          <br/>\r\n          Phone: <input value={newPhone} onChange = {handlePhoneChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">Add</button>\r\n          <br/>\r\n          <button type=\"clear\" onClick = {clearData}>Reset Form</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n          {rows()}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}